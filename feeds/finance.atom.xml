<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Joseph Thurman - Finance</title><link href="http://www.josephthurman.com/" rel="alternate"></link><link href="http://www.josephthurman.com/feeds/finance.atom.xml" rel="self"></link><id>http://www.josephthurman.com/</id><updated>2018-03-02T14:00:00-05:00</updated><entry><title>Binomial Options Pricing Model</title><link href="http://www.josephthurman.com/binomial2.html" rel="alternate"></link><published>2018-03-02T14:00:00-05:00</published><updated>2018-03-02T14:00:00-05:00</updated><author><name>Joseph Thurman</name></author><id>tag:www.josephthurman.com,2018-03-02:/binomial2.html</id><summary type="html">&lt;p&gt;In the &lt;a href="http://www.josephthurman.com/binomial1.html"&gt;previous post&lt;/a&gt; introducing the Binomial Options Pricing Model, we discussed a very simple model for the movement of stock prices. In that model, we assumed that at the end of a certain period of time, the value of a stock could take on one of two possible values …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the &lt;a href="http://www.josephthurman.com/binomial1.html"&gt;previous post&lt;/a&gt; introducing the Binomial Options Pricing Model, we discussed a very simple model for the movement of stock prices. In that model, we assumed that at the end of a certain period of time, the value of a stock could take on one of two possible values.  We then used a variety of arguments, including replication and risk-neutral pricing, to determine a price for a call option on the stock.  &lt;/p&gt;
&lt;p&gt;In this post, we'll see how this model can be improved to predict the movement of stock prices more accurately. We'll also make some simple modifications that allow us to consider some of the complicating factors we ignored in the last post, like interest rates.&lt;/p&gt;
&lt;h3&gt;The Two-Step Model&lt;/h3&gt;
&lt;p&gt;Let's return to the example from the previous post, in which we assumed that a stock worth &amp;dollar;100 today would be worth either &amp;dollar;80 or &amp;dollar;120 in six months' time.  We used this assumption to find a price for a call option on the stock, expiring at the end of the same six-month period with a strike price of &amp;dollar;100.  &lt;/p&gt;
&lt;p&gt;This model essentially assumed that there would be only one movement in the stock price in 6 months, or put another way, that we would only observe the stock price once over the life of the option. What if we looked multiple times?&lt;/p&gt;
&lt;p&gt;In particular, instead of assuming that the stock could either increase or decrease by &amp;dollar;20 over a six-month period, let's assume that the stock can either increase or decrease by &amp;dollar;10 over each three-month period.  There are now four different possibilities for how the stock price can change as over the six-month period - it can either move up twice, move up and then down, move down and then up, or move down twice.  Letting &lt;span class="math"&gt;\(u, d\)&lt;/span&gt; denote up and down movements, respectively, and using &lt;span class="math"&gt;\(S\)&lt;/span&gt; to denote the stock price today, &lt;span class="math"&gt;\(S_{u}\)&lt;/span&gt; to denote the price after an up movement, &lt;span class="math"&gt;\(S_{du}\)&lt;/span&gt; denote the price after a down and then an up movement, etc., we're left with the following tree of possible prices for the stock.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Two-Step Binomial Tree" src="http://www.josephthurman.com/tree1.png"&gt;&lt;/p&gt;
&lt;p&gt;It's important to note that the price after an up movement in the first period followed by a down movement in the second period is the same as the price after a down movement followed by an up movement.  This will simplify the computations, especially when we fully generalize the model to include many intermediate steps.  The order of the up and down movements does not matter, only the total number of up movements and the total number down movements.&lt;/p&gt;
&lt;p&gt;How do we find a price for the option under this new model? The method is to view this larger tree as a collection of smaller one-step models and repeatedly apply the pricing methods we described in the last post.  In particular, we can zoom in on just one part of the tree, the portion consisting of &lt;span class="math"&gt;\(S_u\)&lt;/span&gt; and the branches to &lt;span class="math"&gt;\(S_{uu}\)&lt;/span&gt; and &lt;span class="math"&gt;\(S_{ud}\)&lt;/span&gt;. If the final price is &lt;span class="math"&gt;\(S_{uu} = 120\)&lt;/span&gt;, then the option will be worth &amp;dollar;20, and if the final price is &lt;span class="math"&gt;\(S_{ud} = 100\)&lt;/span&gt;, then the option will be worth &amp;dollar;0.  We can then find the value of the option in three months time, assuming that the stock increased over the first period.  The easiest method for this is to use risk-neutral pricing.  We can compute that the risk-neutral probability in this situation is &lt;span class="math"&gt;\(p = 1/2\)&lt;/span&gt; (just as it was in the last post), and therefore the value of the option at the &lt;span class="math"&gt;\(S_u\)&lt;/span&gt; node of the tree is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
C_u = 20 (1/2) + 0 (1/2) = 10
\end{equation*}&lt;/div&gt;
&lt;p&gt;We can repeat this computation to find the value of the option at the &lt;span class="math"&gt;\(S_d\)&lt;/span&gt; node in the tree, that is, the value of the option in three month's time under the assumption that the stock first moves down.  From an initial value of &lt;span class="math"&gt;\(S_d = 90\)&lt;/span&gt;, the stock price can either move to &lt;span class="math"&gt;\(S_{dd} = 80\)&lt;/span&gt; or &lt;span class="math"&gt;\(S_{du} = 100\)&lt;/span&gt;.  In either case, the option will be worthless in six months (the strike price is 100), and therefore the value of the option at the &lt;span class="math"&gt;\(S_d\)&lt;/span&gt; node is zero.&lt;/p&gt;
&lt;p&gt;Finally, if we know that the values &lt;span class="math"&gt;\(C_u = 10\)&lt;/span&gt; and &lt;span class="math"&gt;\(C_d = 0\)&lt;/span&gt; for the option at the &lt;span class="math"&gt;\(S_u\)&lt;/span&gt; and &lt;span class="math"&gt;\(S_d\)&lt;/span&gt; nodes, then we can work backwards to find the initial value of the option.  The risk-neutral probability will once again be &lt;span class="math"&gt;\(p = 1/2\)&lt;/span&gt;, and so the value of the option today is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
C = 10 \times (1/2) + 0 \times (1/2) = 5
\end{equation*}&lt;/div&gt;
&lt;p&gt;
The tree with the value of the option at the various nodes is shown below.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Option Values in Two-Step Binomial Tree" src="http://www.josephthurman.com/tree2.png"&gt;&lt;/p&gt;
&lt;p&gt;This value is different from the value of &amp;dollar;10 we found in the last post, but it's not hard to see why.  In the one-step model, we only had two possible values for the stock price at expiry, one in which the option has value (an up movement) and one in which it does not (a down movement). In the two step model, we have assumed that there are more possible values for the final price of the stock, and the option is worthless for these new possible values.  Thus under the new model there will be fewer opportunities to exercise the option and gain value from it, and so the option is worth less in the new model.&lt;/p&gt;
&lt;p&gt;It's clear from the above example how we could continue to improve the model - instead of dividing the six-month time period into two three-month periods, we could divide it into 3, 4, 5, or even more periods.  Perhaps we could divide the interval into 20 periods, and the price could move up or down by one dollar in each period.  This would still imply that the stock price at the end of six months has a value between &amp;dollar;80 or &amp;dollar;120, but in this case any dollar value between these two numbers is also a possible outcome in the model, which is a much more realistic model than the two or three values we've had in the examples so far. Before discussing this generalization, though, we will consider how interest rates affect the model.  &lt;/p&gt;
&lt;h3&gt;Adding Interest Rates&lt;/h3&gt;
&lt;p&gt;So far, we've ignored how interest rates and the time value of money would change our computations.  For example, in computing the value &lt;span class="math"&gt;\(C_u\)&lt;/span&gt; above, we assumed that if the option was expected to be worth &amp;dollar;10 at the end of the six-month period, its value at three months should be the same.  This is not the case, though, as the value of &amp;dollar;10 today is more than the value of &amp;dollar;10 in three month's time.  After all, if an investor has &amp;dollar;10 today, they could always a put the money into a completely safe investment, perhaps something like a savings account, and earn a small amount of interest so that, after three months time they have &amp;dollar;10.01 instead of just &amp;dollar;10.  &lt;/p&gt;
&lt;p&gt;The value of a payment therefore depends not only on the actual dollar amount of the payment, but on when the payment is made.  To be consistent in finding prices for financial assets, we need a way to find the value today of a payment made in the future, so that all prices under consideration are always in "today's" dollars. The idea is that if one will receive &amp;dollar;&lt;span class="math"&gt;\(Y\)&lt;/span&gt; in &lt;span class="math"&gt;\(T\)&lt;/span&gt; month's time, the value of that payment &lt;em&gt;today&lt;/em&gt; is the amount of money that would have to be invested today in a risk-free investment so that in &lt;span class="math"&gt;\(T\)&lt;/span&gt; months that safe investment will have grown to &lt;span class="math"&gt;\(Y\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Risk-free investments do not actually exist in truth, but mathematical finance generally assumes that such investments are available. This is because short-term bonds issued by stable governments in their own currency are very safe investments. There is of course the possibility that, say, the US government may default on its debt, but this would have such major economic effects that accurately pricing options would be the least of an investor's worries. Still, because these assets have no risk, the rate of return is small - the current yield on three-month treasury bills is around 1.5% annually. The rate of return of the risk-free investment is appropriately known as the &lt;em&gt;risk-free rate&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;To simplify computations, we'll assume that all interest is compounded continuously.  That is, if &lt;span class="math"&gt;\(r\)&lt;/span&gt; is the risk-free interest rate, written as a decimal (so that 1.5% = 0.015), then if one invests &lt;span class="math"&gt;\(P\)&lt;/span&gt; dollars for a period of &lt;span class="math"&gt;\(t\)&lt;/span&gt; years, the investment will grow to &lt;span class="math"&gt;\(Pe^{rt}\)&lt;/span&gt;, where &lt;span class="math"&gt;\(e = 2.71828\ldots\)&lt;/span&gt; is Euler's number, the base of the natural logarithm. On the other hand, a cash payment of &lt;span class="math"&gt;\(X\)&lt;/span&gt; dollars at some time &lt;span class="math"&gt;\(t\)&lt;/span&gt; years in the future will have a present value today of &lt;span class="math"&gt;\(Xe^{-rt}\)&lt;/span&gt;. We'll use this present value formula in the next section to compute the value of an option today if its future expected value is known. The number &lt;span class="math"&gt;\(e^{-rt}\)&lt;/span&gt; is called a &lt;em&gt;discount factor&lt;/em&gt;, since it is used to discount future values of a cash flow to their smaller present values.  &lt;/p&gt;
&lt;p&gt;Note that the risk-free interest rate, and the related discount factor, are only appropriate for finding the present value of risk-free assets.  In general, if we wanted to find the present value of a future payment that had some amount of uncertainty, we'd need to choose an interest rate that reflected the uncertainty.  We could think of this as the rate of return that could be expected from investing our money in an equally risky asset. The expected values of the options we are pricing are technically risky, so in principle we should be finding a discount factor that reflects those risks.  This represents one more advantage of risk-neutral pricing - we can avoid the work of having to decide on a discount factor that is appropriate to the risk of the option. Instead, we ignore the risk, as we've done before, and use the risk-free interest rate to simplify our computations.&lt;/p&gt;
&lt;h3&gt;The Many-Step Model&lt;/h3&gt;
&lt;p&gt;With interest rates figured out, we're now ready to give the actual model. There's just one final change to make. In our two-step example above, we've assumed that the stock price moves by adding or subtracting fixed amounts.  In our final model, we'll instead assume that the price moves by a fixed &lt;em&gt;percentage&lt;/em&gt; in each period.  This turns out to more accurately model the movement of stock prices, as we'll discuss in a later post.&lt;/p&gt;
&lt;p&gt;We'll also abandon the numbers we used in our specific examples and replace them with variables. Let &lt;span class="math"&gt;\(S\)&lt;/span&gt; denote the price of the stock today, and let &lt;span class="math"&gt;\(T\)&lt;/span&gt; denote the time until expiry of the option, in years.  We'll divide this period into &lt;span class="math"&gt;\(N\)&lt;/span&gt; equal time intervals, of length &lt;span class="math"&gt;\(\Delta T = T / N\)&lt;/span&gt;.  Finally, assume that in each time period, the stock price changes by either multiplying by &lt;span class="math"&gt;\(u\)&lt;/span&gt;, which we consider as an up movement, or by &lt;span class="math"&gt;\(d\)&lt;/span&gt;, the down movement. For example, if we assume that a stock can grow by 2% over a short time interval, then we pick &lt;span class="math"&gt;\(u = 1.02\)&lt;/span&gt;.  Thus after one period, the stock will have a value of either &lt;span class="math"&gt;\(Su\)&lt;/span&gt; or &lt;span class="math"&gt;\(Sd\)&lt;/span&gt;.  We need to assume &lt;span class="math"&gt;\(d &amp;lt; e^{r\Delta T} &amp;lt; u\)&lt;/span&gt;, where &lt;span class="math"&gt;\(r\)&lt;/span&gt; is the risk-free interest rate, to avoid the possibility of arbitrage.&lt;/p&gt;
&lt;p&gt;We can then consider a tree of possible prices for the stock.  If &lt;span class="math"&gt;\(k\)&lt;/span&gt; time periods have passed, then the stock price at that time is determined by the number of up and down movements in the stock.  Since the order of the stock movements does not matter, we have that if &lt;span class="math"&gt;\(k\)&lt;/span&gt; time periods have passed and the stock price has increased over &lt;span class="math"&gt;\(m\)&lt;/span&gt; of those periods (and therefore decreased over &lt;span class="math"&gt;\(k-m\)&lt;/span&gt; of those periods), the price of the stock at that time is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
S(k,m) = Su^{m}d^{k-m}
\end{equation*}&lt;/div&gt;
&lt;p&gt;
This explains why this model is known as the binomial model - the price of the stock could be determined by flipping a coin &lt;span class="math"&gt;\(k\)&lt;/span&gt; times and assuming that the stock moves up each time a head appears. More properly, we should consider a weighted coin that has a probability &lt;span class="math"&gt;\(p\)&lt;/span&gt; of coming up heads. The so-called "binomial distribution" is the distribution in probability used to model coin flips.&lt;/p&gt;
&lt;p&gt;We can now use the tree of stock prices produced by this formula to find the value of the option.  Assume we're pricing a call option with strike price &lt;span class="math"&gt;\(K\)&lt;/span&gt;. We can easily find the value of the option at the expiry in each of the possible nodes of the tree.  Under our model, the price of the stock has &lt;span class="math"&gt;\(N+1\)&lt;/span&gt; possible values at expiry, depending on the number of up-movements in the stock.  For each of these possible stock prices, the option is worth
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
C(N,m) = \max(S(N,m) - K, 0)
\end{equation*}&lt;/div&gt;
&lt;p&gt;
(Here &lt;span class="math"&gt;\(m\)&lt;/span&gt; can be any of the values &lt;span class="math"&gt;\(m = 0,1, \ldots, N\)&lt;/span&gt;). Interpreting the above formula, the option is worth the difference between the price of the stock and the strike price if the stock is worth more than the strike, and zero otherwise (the case in which the option is not exercised).&lt;/p&gt;
&lt;p&gt;Once we know the value of the option at the end of the tree, we can work backward as before to figure out the value of the option at every node. Let &lt;span class="math"&gt;\(C(k,m)\)&lt;/span&gt; denote the value of the option at the node that is &lt;span class="math"&gt;\(k\)&lt;/span&gt; steps into the tree with &lt;span class="math"&gt;\(m\)&lt;/span&gt; up movements in the stock price.  The two following nodes in the tree are &lt;span class="math"&gt;\(C(k+1,m+1)\)&lt;/span&gt; (if the price moves up) and &lt;span class="math"&gt;\(C(k+1,m)\)&lt;/span&gt; (if the price moves down).  If we let &lt;span class="math"&gt;\(p\)&lt;/span&gt; denote the risk-neutral probability of a movement up, then the expected value of the option in the next step is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
p C(k+1,m+1) + (1-p) C(k+1,m)
\end{equation*}&lt;/div&gt;
&lt;p&gt;
and so the value of the option at &lt;span class="math"&gt;\(C(k,m)\)&lt;/span&gt; is the above expected value, discounted to today using the risk-free interest rate.  That is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
C(k,m) = e^{-r \Delta T} \left( p C(k+1,m+1) + (1-p) C(k+1,m) \right)
\end{equation*}&lt;/div&gt;
&lt;p&gt;
With this formula, we can work our way backward through the tree until we can compute the value &lt;span class="math"&gt;\(C(0,0)\)&lt;/span&gt;, which is the value of the option today, and therefore the price.&lt;/p&gt;
&lt;p&gt;Finally, we need to find the value of the risk-neutral probability.  From our discussion in the last section, it should be chosen so that the stock price at any node in the tree is equal to the expected value of the stock price in the child nodes, appropriately discounted. That is, we need to chose the &lt;span class="math"&gt;\(p\)&lt;/span&gt; such that the following formula is satisfied:
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
S(k,m) =  e^{-r \Delta T} \left( p S(k+1,m+1) + (1-p) S(k+1,m) \right)
\end{equation*}&lt;/div&gt;
&lt;p&gt;
Using the formula &lt;span class="math"&gt;\(S(k,m) = Su^{m}d^{k-m}\)&lt;/span&gt;, we can solve this equation to find that the risk-neutral probability is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
p = \frac{e^{r \Delta T} - d}{u-d}
\end{equation*}&lt;/div&gt;
&lt;p&gt;Note that this formula does not depend on the values of &lt;span class="math"&gt;\(k\)&lt;/span&gt; and &lt;span class="math"&gt;\(m\)&lt;/span&gt;, so that the risk-neutral probability is the same everywhere in the tree. In contrast, we could consider using the replication method discussed in the previous post to compute the value of the option at each node. If we tried this, however, we'd notice that in general the payoffs at the child nodes are different as we move through the tree. Therefore we'd have to find a different replicating portfolio for every node, which would be a lot more work. Using risk-neutral pricing allows us to avoid these unnecessary computations and greatly simplifies the model.&lt;/p&gt;
&lt;h3&gt;Summarizing the Model&lt;/h3&gt;
&lt;p&gt;And that's it! After a good deal of work, we've found a model that can be used to find the price of a European call option on a stock.  The model is as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Divide time until expiry of the option into &lt;span class="math"&gt;\(N\)&lt;/span&gt; intervals.  On each interval, assume that the stock can move up or down by a factor of &lt;span class="math"&gt;\(u\)&lt;/span&gt; or &lt;span class="math"&gt;\(d\)&lt;/span&gt;, respectively.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This assumption generates a tree of possible prices for the stock.  At the leaves of the tree, we can find the value of the option for the given stock price represented by that node by using the payoff determined by the option contract.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Working back through the tree, we can find the value of the option at any node as long as we know the value of the option at the two child nodes.  We do this by finding the expected value of the option at those two child nodes using the risk-neutral probability, then discounting that value using the risk-free interest rate.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;This process continues until the value of the option at the root node, representing the value today, is found, which is the price of the option.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The model uses three properties of the option that are known, namely the stock price today, the strike price of the option, and the time until expiry. It also takes as input the value &lt;span class="math"&gt;\(r\)&lt;/span&gt; for the risk-free interest rate available in the market. The model also has three "tuning parameters" that we can choose ourselves, namely the size of the movements &lt;span class="math"&gt;\(u\)&lt;/span&gt; and &lt;span class="math"&gt;\(d\)&lt;/span&gt; and the number of steps in the tree &lt;span class="math"&gt;\(N\)&lt;/span&gt;. If we want our model to be useful, we still need to decide how to choose these parameters.&lt;/p&gt;
&lt;p&gt;As we saw above, our model is more accurate the more steps we include. Of course increasing &lt;span class="math"&gt;\(N\)&lt;/span&gt; increases the number of nodes in our tree, and so larger values of &lt;span class="math"&gt;\(N\)&lt;/span&gt; will take longer to compute.  Therefore, we should choose &lt;span class="math"&gt;\(N\)&lt;/span&gt; as large as possible while still making sure that our algorithm is computationally feasible. We'll discuss this more in the next post, when we actually implement this model in Python and analyze its performance.&lt;/p&gt;
&lt;p&gt;Choosing &lt;span class="math"&gt;\(u\)&lt;/span&gt; and &lt;span class="math"&gt;\(d\)&lt;/span&gt; is more difficult. There are good techniques for choosing these values, but understanding them requires making some more explicit assumptions about the movement of stock prices which we'll discuss in a later post. For now, it's enough to say that choosing &lt;span class="math"&gt;\(u\)&lt;/span&gt; and &lt;span class="math"&gt;\(d\)&lt;/span&gt; amounts to forecasting the future movement of the stock. We'll therefore choose them somewhat arbitrarily, picking feasible values and tweaking them as necessary so that the range of possible stock prices in the model accords with whatever prediction about the future movement of the stock we wish to make.  &lt;/p&gt;
&lt;h3&gt;Next Time - Implementing the Model&lt;/h3&gt;
&lt;p&gt;Now that we've found a model we can use, it's time to actually put it into practice.  In the next post, we'll implement this model in Python and run it on a few simple examples. We'll also analyze its performance, and see how our implementation can be used to price other types of options as well.  &lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="finance"></category><category term="binomial-model"></category></entry><entry><title>Introduction to Pricing Options with Binomial Trees</title><link href="http://www.josephthurman.com/binomial1.html" rel="alternate"></link><published>2018-02-16T12:00:00-05:00</published><updated>2018-02-16T12:00:00-05:00</updated><author><name>Joseph Thurman</name></author><id>tag:www.josephthurman.com,2018-02-16:/binomial1.html</id><summary type="html">&lt;p&gt;A lot of work in mathematical finance is related to the pricing of financial derivatives, that is, financial assets that have values that depend on (that is, values that are derived from) the value of another asset. Some of the simplest derivatives are &lt;em&gt;European call&lt;/em&gt; and &lt;em&gt;put&lt;/em&gt; options. In this …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A lot of work in mathematical finance is related to the pricing of financial derivatives, that is, financial assets that have values that depend on (that is, values that are derived from) the value of another asset. Some of the simplest derivatives are &lt;em&gt;European call&lt;/em&gt; and &lt;em&gt;put&lt;/em&gt; options. In this post, we'll explain what these options are, and then describe a very simple model, the (one step) &lt;em&gt;Binomial Options Pricing Model&lt;/em&gt;, that can be used to find prices for these options. In the next post, we'll see how this model can be improved and expanded.&lt;/p&gt;
&lt;h3&gt;European Call and Put Options&lt;/h3&gt;
&lt;p&gt;A European &lt;em&gt;call&lt;/em&gt; option is a contract that gives one investor, who is said to have the &lt;em&gt;long&lt;/em&gt; position in the contract, the option (but not the obligation) to &lt;em&gt;buy&lt;/em&gt; a particular asset at specified future time, called the &lt;em&gt;expiration time&lt;/em&gt; of the option, for a price specified at the time the contract is made.  This price is called the &lt;em&gt;strike&lt;/em&gt; price. Their counterparty, who must agree to sell at that particular price, is said to hold the &lt;em&gt;short&lt;/em&gt; position in the contract. For a European &lt;em&gt;put&lt;/em&gt; option, the investor holding the long position has the option to &lt;em&gt;sell&lt;/em&gt; a particular asset at a specified time and price, while the person taking the short position agrees to buy at that price.  &lt;/p&gt;
&lt;p&gt;It is important to note that long positions in options are always truly optional. That is, if a person holds a long position in a call option with a strike price of &amp;dollar;100, but the underlying asset's price is only &amp;dollar;95 when the option expires, they can simply chose not to &lt;em&gt;exercise&lt;/em&gt; their option, and buy the asset at the lower market price if they wish.  The short position in an option, though, carries an obligation. The holder of a short position in a call option, for example, is forced to sell an asset at a lower price than the market price if the call option is exercised.&lt;/p&gt;
&lt;p&gt;What are options good for? An investor might wish to purchase a call option on a stock if they believe the stock price is likely to go up.  For example, say that a particular stock has a price of &amp;dollar;100 today.  If an investor believes that the stock price is likely to increase over six months, say to &amp;dollar;120, they might purchase a call option to buy the stock for a strike price of &amp;dollar;100 in six months.  If their prediction is correct, then in 6 months time they can exercise the call option to buy the stock for only &amp;dollar;100, then immediately resell in the normal market for &amp;dollar;20, netting a &amp;dollar;20 profit.  &lt;/p&gt;
&lt;p&gt;Of course, if the investor thinks that the stock will be worth &amp;dollar;120, they could just buy the stock now for &amp;dollar;100 and make a &amp;dollar;20 profit in six months when they sell - what do they need the option for?  The option is an attractive investment because it is much cheaper to own than the stock itself. As we'll see below, the option on the stock above might cost in the neighborhood of &amp;dollar;10, so the investor could double their money with the option. This strategy is riskier, though - if the investor spends &amp;dollar;100 on the stock and it goes down to &amp;dollar;90, they've only lost &amp;dollar;10, while if the investor spends &amp;dollar;100 on 20 options and the price goes down, they lose their entire investment.&lt;/p&gt;
&lt;p&gt;The above is a description of the use of options for speculating in the market, but they can also be used like a type of insurance to hedge risk.  If an investor already owned that same &amp;dollar;100 stock and was worried that the value could drop drastically, they might purchase a put option with a strike price of &amp;dollar;90.  If the stock dives to &amp;dollar;80, they'll still be able to sell for &amp;dollar;90, limiting their loss to &amp;dollar;10 instead of &amp;dollar;20.  &lt;/p&gt;
&lt;h3&gt;The Simplest Binomial Model&lt;/h3&gt;
&lt;p&gt;Let's consider the simplest possible scenario in which to price a European call option. Say that a stock has a price today of &amp;dollar;100 (all prices will be in dollars, so we'll sometimes drop the dollar signs for convenience).  And let's assume that in six months' time, the stock will take one of only two possible values&amp;mdash;either increasing 20% to 120, or decreasing 20% to 80.  Consider a European call option for the stock with a strike price of 100 that expires in six months.  What is a fair price to pay for this option?&lt;/p&gt;
&lt;p&gt;To decide on a price, we see that if we hold the option and the stock goes up, then we'll be able to exercise the option to make a profit of 20. If the stock price goes down, then at expiry there will be no reason to use the option and it will expire worthless for a profit of 0.  To find a price for this option, we will &lt;em&gt;replicate&lt;/em&gt; these possible cash flows using a combination of stocks and cash. (We use cash in this discussion to avoid discussing interest rates, which will be discussed in the next post.) Here, we're using one of the bedrock assumptions of mathematical finance, the "no-arbitrage" condition.  This condition says that if two different portfolios involve identical cashflows, then the portfolios must have exactly the same value. The price we'll find for the option is therefore called the &lt;em&gt;arbitrage-free&lt;/em&gt; price.&lt;/p&gt;
&lt;p&gt;Consider a portfolio that consists of &lt;span class="math"&gt;\(a\)&lt;/span&gt; shares of the stock and &lt;span class="math"&gt;\(b\)&lt;/span&gt; dollars in cash. That is, if &lt;span class="math"&gt;\(S\)&lt;/span&gt; is the price of the stock, the value of the portfolio is &lt;span class="math"&gt;\(P = aS + b\)&lt;/span&gt;.  We'd like this portfolio to have the same cash flows as the option, that is, in six months if &lt;span class="math"&gt;\(S = 80\)&lt;/span&gt;, we wish for &lt;span class="math"&gt;\(P = 0\)&lt;/span&gt;, while if &lt;span class="math"&gt;\(S = 120\)&lt;/span&gt;, then &lt;span class="math"&gt;\(P = 20\)&lt;/span&gt;. You might recognize from these formulas that we're trying to choose the linear function &lt;span class="math"&gt;\(P(S)\)&lt;/span&gt; so that it has two particular values, &lt;span class="math"&gt;\(P(80) = 0\)&lt;/span&gt; and &lt;span class="math"&gt;\(P(120) = 20\)&lt;/span&gt;, and since two points always determine a unique line, we can solve to find that we should have &lt;span class="math"&gt;\(a = 1/2\)&lt;/span&gt; and &lt;span class="math"&gt;\(b = -40\)&lt;/span&gt;. Thus, if we have a portfolio that consists &lt;span class="math"&gt;\(1/2\)&lt;/span&gt; a stock and &lt;span class="math"&gt;\(-b\)&lt;/span&gt; dollars, this portfolio will have exactly the same payout as the option in 6 months, and therefore the value of the portfolio today must be the value of the option today.  Since the portfolio is worth &lt;span class="math"&gt;\((1/2) \times 100 - 40 = 10\)&lt;/span&gt; today, the price of the option must be &amp;dollar;10.&lt;/p&gt;
&lt;p&gt;There are still two issues to consider. First, this method of pricing requires us to own half a share in a stock, which is generally not possible.  In practice, this isn't actually an issue. We've assumed that the option contract we're pricing gives the option to buy or sell only one share of stock, but options generally involve 100 shares of stock.  Thus instead of buying 1/2 a stock, our argument above essentially says that we'd need to buy half of the number of shares specified in the option contract, that is, 50 shares.  The other issue is interpreting the negative value of &lt;span class="math"&gt;\(b\)&lt;/span&gt;.  Here &lt;span class="math"&gt;\(b = -40\)&lt;/span&gt; means that the portfolio includes an obligation to make a payment of &amp;dollar;40 six months in the future, which we can think of as a repayment of a loan.&lt;/p&gt;
&lt;p&gt;To summarize, if an investor wants to buy the call option on this stock we've discussed, they have two options. First, they could just buy the option itself, for a cost of &amp;dollar;&lt;span class="math"&gt;\(C\)&lt;/span&gt;, and in six months they'll either receive &amp;dollar;20 or &amp;dollar;0 from the option, depending on whether the stock moves up or down.  On the other hand, they could take &amp;dollar;10 and take out an additional six-month loan of &amp;dollar;40, and use the combined sum to buy half a stock.  In 6 months, they can sell that half-share of stock and repay the loan. The payout from this process is identical to the payout of the call option, and this process costs &amp;dollar;10. Since the portfolio of stock and a loan replicates the payouts of the option, the prices are the same, and the option's price is &lt;span class="math"&gt;\(C=10\)&lt;/span&gt;.&lt;/p&gt;
&lt;h3&gt;Risk-Neutral Pricing&lt;/h3&gt;
&lt;p&gt;Although the replication argument above works well in this simple case, we'll see in the next post that it can be difficult to generalize to more complicated models and situations.  For those situations, there is an alternate method to find the price of the option, using so called &lt;em&gt;risk-neutral&lt;/em&gt; pricing.&lt;/p&gt;
&lt;p&gt;One surprising fact about the replication argument is that it didn't include any probabilities. Let's momentarily ignore the argument above, and try to find the correct price of the option using probabilities. If we assume that the probability of the stock price increasing is &lt;span class="math"&gt;\(p\)&lt;/span&gt; (and therefore that the probability of a decrease is &lt;span class="math"&gt;\(1-p\)&lt;/span&gt;), then the expected value of the option 6 months from now is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
E(C) = 20 \cdot p + 0\cdot(1-p) = 20p
\end{equation*}&lt;/div&gt;
&lt;p&gt;
Since the option is expected to be worth &lt;span class="math"&gt;\(20p\)&lt;/span&gt; at expiry, if we ignore interest rates (and risk, see below), its value today should be the same as well. We've found a price for the option, then, once we can determine a value for &lt;span class="math"&gt;\(p\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Of course, the probability could in principle have any value between 0 and 1, and different investors might have different ideas of what the probability is.  There is one special value that &lt;span class="math"&gt;\(p\)&lt;/span&gt; could take, the so called &lt;em&gt;risk-neutral&lt;/em&gt; probability, that it turns out is better than all the others for pricing the option.&lt;/p&gt;
&lt;p&gt;To find this probability, we can again perform an expected value calculation, but this time find the expected value of the stock in the future.  We then have
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
E(S) = 120\cdot p + 80 \cdot(1-p) = 80 + 40p
\end{equation*}&lt;/div&gt;
&lt;p&gt;
Then, similar to the above reasoning, if we &lt;em&gt;ignore the riskiness of the stock price&lt;/em&gt;, then the price today must equal the expected future value, that is
&lt;/p&gt;
&lt;div class="math"&gt;\begin{equation*}
100 = 80 + 40 p,
\end{equation*}&lt;/div&gt;
&lt;p&gt;
which we can solve to find &lt;span class="math"&gt;\(p = 1/2\)&lt;/span&gt;. This value of &lt;span class="math"&gt;\(p\)&lt;/span&gt; is called the risk-neutral probability.&lt;/p&gt;
&lt;p&gt;Why is this called the "risk-neutral" probability? It's because a normal investor should think that the value of a stock today is &lt;em&gt;less&lt;/em&gt; than the expected value of the stock in the future, because the future value is uncertain. If they thought the &amp;dollar;100 stock today would still be worth on average only &amp;dollar;100 in the future, they'd be better off just keeping their money and not taking any risk. Only an investor who is indifferent to risk would think that a stock with a risky expected value of &amp;dollar;100 in the future is also worth &amp;dollar;100 today. By equating the expected future value of the stock and the price of the stock today, we're therefore thinking like a &lt;em&gt;risk-neutral&lt;/em&gt; investor. We actually made the same assumption earlier when we said that the expected value of &lt;span class="math"&gt;\(20p\)&lt;/span&gt; for the option in the future should equal the price of the option today.&lt;/p&gt;
&lt;p&gt;Putting these arguments together, we have that if &lt;span class="math"&gt;\(p = 1/2\)&lt;/span&gt; is the risk-neutral probability, then the risk-neutral price of the option today should be &lt;span class="math"&gt;\(20 \times (1/2) = 10\)&lt;/span&gt;, the same as the arbitrage-free price we found in the previous section.&lt;/p&gt;
&lt;h3&gt;Why Risk-Neutral Pricing?&lt;/h3&gt;
&lt;p&gt;The question "Why risk-neutral pricing?" could mean two different things, either "Why does risk-neutral pricing give the same price as replication?" or "Why use risk-neutral pricing instead of replication?". We'll answer the second question more fully in the next post, where we'll see that the risk-neutral pricing method is simpler when we consider more complicated models.  The first question does require an answer, though, because at first glance risk-neutral pricing seems like exactly the wrong method. Investors are generally &lt;em&gt;not&lt;/em&gt; risk neutral, and investing is essentially all about either buying or selling risk. For example, investors are often either trying to create risk in the hope of a return (like the options speculator from earlier) or trying to hedge risks to remove uncertainty (like the use of options as insurance). How can ignoring one of the most important aspects of an investment lead to the right price?&lt;/p&gt;
&lt;p&gt;To see how, imagine that someone has cruelly forced you to &lt;em&gt;short&lt;/em&gt; the option. Recall from above that this means that, if the stock price rises above &amp;dollar;100, you'll be forced to sell the stock for a below-market price. How might you manage this risk?&lt;/p&gt;
&lt;p&gt;One method would be to buy half a share of the stock. Let's consider the value of a portfolio that consists of half a share of stock, plus the short position in the option. If the stock price goes up to 120, then the option will be exercised and you'll unfortunately lose 20 on the option.  However, you will also own half a share of the stock, which in this world will have a value of 60, and so the total value of the portfolio is 40.  On the other hand, if the stock price goes down, the option will not be exercised, and the only value in the portfolio will be half the value of the stock, which will also be 40. (Note that this gives one more demonstration that the option is worth 10 - the future value of the portfolio is 40, not matter what, so the portfolio's value today is 40, and &lt;span class="math"&gt;\(50 - 10 = 40\)&lt;/span&gt;. This also does not assume risk-neutrality, since the future value of the portfolio is certain to be 40.)&lt;/p&gt;
&lt;p&gt;It turns out that the risk in the option is completely manageable - by judiciously buying the stock related to the option, you can remove the risk inherent in the value of the option itself.  That is, instead of an uncertain position that could involve either no change in value or a loss of &amp;dollar;20, you know have a certain position that involves a final portfolio value of &amp;dollar;40 in all possible scenarios. Because the risk can be removed, it's doesn't determine the price of the option, and therefore you can use pricing methods that ignore risk to correctly price the option.&lt;/p&gt;
&lt;p&gt;Note that this argument, and the replication argument from earlier, depend on the assumption that the market for the stock and the option are well-functioning. The replication argument assumed that money can be easily borrowed, and the hedging argument in this section requires that the stock on which the option is based can be traded. Neither assumption is always true. For example, there are options that pay depending on the weather, which could be used by a farmer, for example, to receive a payment in case bad weather causes problems with a crop.  The risk in this option is harder to hedge&amp;mdash;you can't buy or sell a drought. Risk-neutral pricing methods therefore require some assumptions to be made before they can be applied, and whether or not those assumptions are reasonable can determine whether the prices are correct.&lt;/p&gt;
&lt;h3&gt;Next Time - Improving the Model&lt;/h3&gt;
&lt;p&gt;Although the model we've developed so far does work to give us prices for a call option (and also can be easily modified to give prices for put options well), the assumptions that we've made in our model are obviously too simplistic.  Stock prices, after all, can take many more than two possible values in the future. We've also ignored some other complicating factors, like interest rates, that can have a major effect on the price of the option. In the next post, we'll address these shortcomings to see how this binomial model gives accurate and useful prices for options contracts in real life.  &lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="finance"></category><category term="binomial-model"></category></entry></feed>